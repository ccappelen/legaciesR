<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Detect potential errors in maps — detect_errors • legaciesr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Detect potential errors in maps — detect_errors"><meta name="description" content="Detect potential errors in maps"><meta property="og:description" content="Detect potential errors in maps"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">legaciesr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ccappelen/legaciesR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Detect potential errors in maps</h1>
      <small class="dont-index">Source: <a href="https://github.com/ccappelen/legaciesR/blob/main/R/detect_errors.R" class="external-link"><code>R/detect_errors.R</code></a></small>
      <div class="d-none name"><code>detect_errors.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Detect potential errors in maps</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">detect_errors</span><span class="op">(</span></span>
<span>  <span class="va">shp</span>,</span>
<span>  <span class="va">capital_data</span>,</span>
<span>  <span class="va">id_var</span>,</span>
<span>  <span class="va">period_var</span>,</span>
<span>  <span class="va">errors</span>,</span>
<span>  <span class="va">dist</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">ncores</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  report <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  returnList <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-shp">shp<a class="anchor" aria-label="anchor" href="#arg-shp"></a></dt>
<dd><p>An sf dataframe containing all geometries</p></dd>


<dt id="arg-capital-data">capital_data<a class="anchor" aria-label="anchor" href="#arg-capital-data"></a></dt>
<dd><p>Dataframe containing information on capitals (by year). Should have the same
<code>id_var</code> and <code>period_var</code> names as <code>shp</code>.</p></dd>


<dt id="arg-id-var">id_var<a class="anchor" aria-label="anchor" href="#arg-id-var"></a></dt>
<dd><p>Name of grouping variable (e.g., COWID)</p></dd>


<dt id="arg-period-var">period_var<a class="anchor" aria-label="anchor" href="#arg-period-var"></a></dt>
<dd><p>Name of year variable</p></dd>


<dt id="arg-errors">errors<a class="anchor" aria-label="anchor" href="#arg-errors"></a></dt>
<dd><p>Character vector of which errors to search for. See details.</p></dd>


<dt id="arg-dist">dist<a class="anchor" aria-label="anchor" href="#arg-dist"></a></dt>
<dd><p>Minimum allowable distance (in km) for which capitals can be outside polygons.</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>Whether to use parallel processing. Default is TRUE.</p></dd>


<dt id="arg-ncores">ncores<a class="anchor" aria-label="anchor" href="#arg-ncores"></a></dt>
<dd><p>Number of cores to use for parallel processing. Default is to use all available cores.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>Whether to print progress updates. Default is TRUE.</p></dd>


<dt id="arg-report">report<a class="anchor" aria-label="anchor" href="#arg-report"></a></dt>
<dd><p>Whether the output should be a report of potential errors. Default is an sf dataframe
with columns for each error detection.</p></dd>


<dt id="arg-returnlist">returnList<a class="anchor" aria-label="anchor" href="#arg-returnlist"></a></dt>
<dd><p>Whether to return a list containing the full sf data frame AND separate data frames
for each error type (default) or just the full sf data frame. The full sf data frame will either way
include columns indicating potential errors for each type.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Data frame</p>
<dl><dt><code>id_duplicates</code></dt>
<dd><p>Whether COWID and COWNUM do not align, i.e. are there duplicate COWIDs with different COWNUMs?</p></dd>

<dt><code>missing_id</code></dt>
<dd><p>Whether there are geometries with missing <code>id_var</code>.</p></dd>

<dt><code>singles</code></dt>
<dd><p>Whether there are COWIDs with only one map (may indicate wrong COWID).</p></dd>

<dt><code>year</code></dt>
<dd><p>Whether there are polygons with years outside the study window (i.e. 1750-1920) or if year is missing.</p></dd>

<dt><code>overlap</code></dt>
<dd><p>Whether there are COWIDs for which one or more polygons do not overlap with any of the other polygons.</p></dd>

<dt><code>capital</code></dt>
<dd><p>Whether any of the capitals associated with a COWID falls outside ALL polygons. The option <code>dist</code> can be
used to specify a minimum allowable distance.</p></dd>

<dt><code>empty</code></dt>
<dd><p>Check whether there are empty geometries.</p></dd>

</dl></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christoffer Cappelen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

